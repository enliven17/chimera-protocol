name: chimera-protocol
description: ChimeraProtocol prediction market indexer for Hedera EVM
ecosystem: evm
schema: schema.graphql
event_decoder: viem

contracts:
  - name: ChimeraProtocol
    handler: src/EventHandlers.ts
    events:
      - event: "event MarketCreated(uint256 indexed marketId, string title, address indexed creator, uint8 marketType)"
      - event: "event BetPlaced(uint256 indexed marketId, address indexed user, address indexed agent, uint8 option, uint256 amount, uint256 shares)"
      - event: "event MarketResolved(uint256 indexed marketId, uint8 outcome, address indexed resolver, int64 finalPrice)"
      - event: "event AgentDelegationUpdated(address indexed user, address indexed agent, bool approved, uint256 maxBetAmount)"
      - event: "event PythPriceUpdated(bytes32 indexed priceId, int64 price, uint64 timestamp)"

networks:
  - id: 296
    rpc_config:
      url: https://testnet.hashio.io/api
      initial_block_interval: 50
      interval_ceiling: 500
      backoff_multiplicative: 0.8
      acceleration_additive: 50
      backoff_millis: 2000
      query_timeout_millis: 30000
    start_block: 26156800
    contracts:
      - name: ChimeraProtocol
        address:
          - "0x7a9D78D1E5fe688F80D4C2c06Ca4C0407A967644"

field_selection:
  transaction_fields:
    - "hash"
    - "transactionIndex" 
    - "from"
    - "to"
    - "value"
    - "gasPrice"
    - "input"